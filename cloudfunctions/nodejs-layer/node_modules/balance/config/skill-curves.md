# skill-curves.json 字段说明

此文件定义技能资源与控制效果的基础参数。配置文件只保留一套字段，版本切换通过集合记录的 `status` 完成。

- `resource.defaults`：技能资源的默认配置，字段包含 `type`、`baseMax`、`startFraction`、`startValue`、`turnGain`、`basicAttackGain`、`damageTakenGain`、`critGain`、`critTakenGain`。
- `controlEffects`：各类控制效果的基础表现，包含 `stun`、`silence`、`freeze`、`sleep`，字段与战斗逻辑同名。

> 运行时通过 `getSkillCurveConfig()` 读取，缺失字段自动回退到默认值，确保模拟与实战的控制效果一致。【F:cloudfunctions/nodejs-layer/node_modules/balance/config-loader.js†L253-L339】

## 主要字段的属性说明

### resource.defaults（技能资源默认值）

| 属性名 | 中文含义 | 默认值 | 备注 |
| --- | --- | --- | --- |
| `type` | 资源类型 | `"qi"` | 资源代号，如怒气/真气 |
| `baseMax` | 资源上限 | `100` | 资源槽最大值 |
| `startFraction` | 开局资源百分比 | `0` | 按上限给予的起手资源比例 |
| `startValue` | 开局固定资源 | `0` | 额外的固定起手资源 |
| `turnGain` | 每回合自然回复 | `20` | 回合结束自动恢复的资源量 |
| `basicAttackGain` | 普攻获得资源 | `10` | 普攻命中后额外获得的资源 |
| `damageTakenGain` | 受伤获得资源系数 | `1.5` | 按伤害量乘系数获得资源 |
| `critGain` | 暴击奖励资源 | `1` | 造成暴击时额外获得的资源 |
| `critTakenGain` | 被暴击补偿资源 | `1` | 被暴击时额外获得的资源 |

### controlEffects（控制效果）

| 效果 | 关键字段 | 默认值 | 备注 |
| --- | --- | --- | --- |
| `stun` | `skip` | `true` | 眩晕整回合跳过，禁用普攻/主动/闪避 |
| `silence` | `disableActive` | `true` | 禁用主动技能，允许普攻和闪避 |
| `freeze` | `breakOnFire` | `true` | 冰冻会跳过回合并禁用行动，受火伤解除并追加 `fireDamageMultiplier=0.1` |
| `sleep` | `turnResourceGain` | `10` | 沉睡跳过回合，可被伤害唤醒并每回合被动回复资源 |
