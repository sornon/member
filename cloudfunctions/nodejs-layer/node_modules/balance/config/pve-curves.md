# pve-curves.json 字段说明

此文件定义 PVE 秘境/剧情的基础曲线配置，现仅保留一套字段，版本切换通过集合记录的 `status` 控制。

- `maxLevel`：PVE 等级上限。
- `roundLimit`：PVE 最大回合数，超出则判和局。
- `cooldownMs`、`cooldownMessage`：开战冷却与提示文案。
- `secretRealm.baseStats`：秘境敌人的基础属性基线。
- `secretRealm.tuning`：秘境成长与克制倍率，包括 `baseMultiplier`、`floorGrowth`、`realmGrowth`、`normal`/`boss`/`special` 的倍率，以及 `limits` 上限控制。

> 运行时通过 `getPveCurveConfig()` 读取，缺失字段会回退到默认值，确保模拟与线上逻辑一致。【F:cloudfunctions/nodejs-layer/node_modules/balance/config-loader.js†L253-L339】

## 主要字段的属性说明

### 顶层参数

| 属性名 | 中文含义 | 默认值 | 备注 |
| --- | --- | --- | --- |
| `maxLevel` | PVE 等级上限 | `100` | 秘境与剧情的等级封顶 |
| `roundLimit` | 最大回合数 | `20` | 超出则判和局，限制战斗拉锯 |
| `cooldownMs` | 开战冷却时间 (ms) | `10000` | 控制重复开战频率 |
| `cooldownMessage` | 冷却提示 | `"您的上一场战斗还没结束，请稍后再战"` | 冷却期间展示给玩家的提示文案 |

### secretRealm.baseStats（敌人基础属性）

主要字段包含 `maxHp`、`physicalAttack`、`magicAttack`、`physicalDefense`、`magicDefense`、`speed`、`accuracy`、`dodge`、`critRate`、`critDamage`、`finalDamageBonus`、`finalDamageReduction`、`lifeSteal`、`controlHit`、`controlResist`、`physicalPenetration`、`magicPenetration`，用于生成各楼层的基线数值。

### secretRealm.tuning（秘境成长与克制系数）

| 字段 | 默认值 | 说明 |
| --- | --- | --- |
| `baseMultiplier` | `1` | 楼层初始乘数 |
| `floorGrowth` | `0.08` | 每层递增倍率 |
| `realmGrowth` | `0.34` | 每章递增倍率 |
| `normal` | `{ base: 1, primary: 1.35, secondary: 1.15, off: 0.98, weak: 0.85 }` | 普通怪系数 |
| `boss` | `{ base: 1.22, primary: 1.68, secondary: 1.34, tertiary: 1.15, off: 1, weak: 0.88 }` | 首领怪系数 |
| `special` | `{ base: 1, growth: 0.07, boss: 1.5 }` | 特殊怪系数 |
| `limits` | `{ critRate: 0.45, critDamage: 2.15, finalDamageBonus: 0.4, finalDamageReduction: 0.55, lifeSteal: 0.18, accuracy: 520, dodge: 420 }` | 敌人属性上限防止数值失控 |
