# 《寻道大千》技能系统重构方案

## 1. 设计目标
- **建立清晰的技能架构**：重新梳理主动/被动技能、流派类别与元素属性，使战斗职责明晰。
- **强化数值成长路径**：统一冷却、资源消耗、效果数值与成长机制的定义，为后续平衡与拓展奠定基础。
- **塑造品质梯度体验**：通过灵感、开辟、通玄、悟道四个品质段提供由浅入深的玩法体验，驱动玩家长期追求。
- **突出流派差异化**：根据剑修、法修、体修、御兽、符箓等主流路线设计技能模板，确保玩法深度与策略性。
- **融入元素特色**：以火、雷、水、木、土、毒六系为核心，让元素效果成为战斗决策的重要变量。

## 2. 技能基础结构

### 2.1 技能类型
| 类型 | 触发方式 | 核心作用 | 典型示例 |
| --- | --- | --- | --- |
| 主动技能 | 战斗中手动释放，受冷却限制 | 造成直接伤害、提供即时增益或控制 | 狮子吼（降低敌方全属性）、掌心雷（高爆发雷击） |
| 被动技能 | 条件满足时自动触发 | 提供持续增益、状态免疫、额外攻击等 | 解尸法（倒地后原地复活一次）、护体金光（护盾+恢复） |

> **设计要点**：主动技能需明确施放条件、冷却与资源消耗；被动技能强调触发条件与持续收益，避免与主动技能职责重叠。

### 2.2 统一属性模板
每个技能数据结构应包含：
- **基础信息**：名称、类型（主动/被动）、流派类别、元素属性、品质、技能等级上限。
- **施放参数**：冷却（或回合间隔）、真气消耗、施放距离/范围、施放前摇与后摇（若适用）。
- **核心效果**：伤害/治疗倍率、增益/减益数值、持续时间、目标数量。
- **附加机制**：状态效果（眩晕、冰冻、灼烧等）、触发概率、连锁条件（如剑意层数、灵兽行动）。
- **成长规则**：等级提升带来的数值增长、解锁印记槽位、品质突破条件。
- **兼容性信息**：与装备、灵兽、符箓等系统的联动说明，确保跨系统协同。

### 2.3 印记槽位规则
- 灵感、开辟品质：25级解锁第1个印记槽，无法开启第二槽。
- 通玄品质：25级解锁第一槽，50级后开放第二槽（需突破材料）。
- 悟道品质：25级第一槽，40级解锁第二槽，50级可额外开启专属符印（第三槽，提供变体效果）。

## 3. 技能品质梯度

| 品质 | 获取难度 | 数值强度 | 机制复杂度 | 成长上限 | 典型设计 |
| --- | --- | --- | --- | --- | --- |
| 灵感 | 低 | 基础倍率（100%~120%攻击）、单一增益 | 纯粹效果，无额外触发 | Lv.25 | 提高一次普攻伤害；小幅增速 |
| 开辟 | 中 | 中等倍率（130%~150%攻击）、附带单一状态 | 简易触发（如命中后减速） | Lv.35 | 附加减速或护盾；缩短灵兽CD |
| 通玄 | 高 | 高倍率（160%~200%攻击）、双效果 | 多段触发/条件（剑意、叠毒） | Lv.50，两槽 | 多段连斩、持续灼烧、反震 |
| 悟道 | 极高 | 顶级倍率（210%以上）+复合增益 | 多重触发、概率爆发、战局扭转 | Lv.50，专属符印 | 暴击多重触发、群控+易伤、复活链 |

> **数值平衡指引**：高品质技能在基础数值上的提升应控制在同级装备约20%~30%的差距，真正体现强度差异的应是复合机制与成长空间。

## 4. 元素属性设定

| 元素 | 主定位 | 常见附加效果 | 战术应用 |
| --- | --- | --- | --- |
| 火 | 持续伤害、易伤 | 灼烧、易伤、护甲破坏 | 配合高频攻击/团队爆发提升总伤 |
| 雷 | 瞬间爆发、短控 | 眩晕、麻痹、打断 | 先手秒杀、打断读条技能 |
| 水 | 控场、辅助 | 减速、冰冻、治疗、解负面 | 拖延、保护队友、控制敌方节奏 |
| 木 | 回复、束缚 | 治疗、护盾、缠绕、增益 | 团队辅助、属性强化 |
| 土 | 防守、减速 | 护甲、护盾、石化、减攻速 | 承伤站场、削弱敌群 |
| 毒 | 持久压制、削弱 | 中毒、腐蚀、降低抗性/攻击 | 拉长战斗、拖垮高防敌人 |

> **联动规则**：
> - 元素组合可触发额外效果，如先施加水系减速后使用雷系技能可增加眩晕概率10%。
> - 毒与火叠加时，中毒目标每回合额外受到火属性真实伤害（基于火攻10%）。
> - 土系护盾可抵消毒系伤害的前两跳，强化克制关系。

## 5. 流派技能框架

### 5.1 剑修（单体爆发）
- **共性**：高单体倍率、剑意层数驱动、暴击/连斩触发。
- **资源特征**：中等冷却+较低真气消耗，鼓励连续输出。
- **设计模板**：
  - *灵感*：+X%攻击的剑气斩；
  - *通玄*：消耗剑意触发多段伤害，若击杀则刷新冷却；
  - *悟道*：暴击后追加剑雨（多段斩击）+穿透防御。

### 5.2 法修（远程群攻）
- **共性**：范围道法、元素多样、冷却较长。
- **资源特征**：高真气消耗，高收益AOE。
- **设计模板**：
  - *灵感*：单线火球/冰箭。
  - *通玄*：覆盖多格的阵法，附带元素控制。
  - *悟道*：大范围连锁（如雷链、火阵）+元素联动奖励。

### 5.3 体修（防御续航）
- **共性**：减伤、护盾、恢复、免死触发。
- **资源特征**：多数被动或长冷却主动，真气消耗低。
- **设计模板**：
  - *灵感*：短时间减伤或小幅自疗。
  - *通玄*：多层护盾+反震伤害。
  - *悟道*：生命阈值触发免死+群体嘲讽+燃烧反击。

### 5.4 御兽（灵兽联动）
- **共性**：增强灵兽、共享行动收益、触发协同。
- **资源特征**：部分技能作用于灵兽冷却、攻速。
- **设计模板**：
  - *灵感*：提升灵兽攻击/防御，缩短技能CD。
  - *通玄*：灵兽施法追加主人增益或再次行动。
  - *悟道*：灵兽与主人互相触发爆发（例如灵兽击杀刷新主人主动技能）。

### 5.5 符箓（控制辅助）
- **共性**：控制、封印、削弱、增益，伤害适中。
- **资源特征**：冷却中等，真气消耗取决于效果强度。
- **设计模板**：
  - *灵感*：单体减防/定身短控。
  - *通玄*：群体封印/属性吸取。
  - *悟道*：多重控制+团队增益或战局逆转（如群体复活护盾）。

## 6. 技能示例库

### 6.1 低品质技能（灵感 / 开辟）
| 名称 | 品质 | 类型 | 流派 / 元素 | 核心效果 | 成长 & 备注 |
| --- | --- | --- | --- | --- | --- |
| 破云斩 | 灵感 | 主动 | 剑修 / 无 | 120%攻击对单体造成伤害；若暴击，额外造成30%伤害 | 每级+4%伤害；25级解锁1槽 |
| 烈炽火弹 | 灵感 | 主动 | 法修 / 火 | 100%法攻火球命中后附加2回合灼烧（每回合20%法攻） | 每级灼烧+2%；冷却3回合 |
| 凝霜矢 | 开辟 | 主动 | 法修 / 水 | 130%法攻冰箭并减速30%持续2回合 | 每级伤害+3%，减速+1% |
| 铜皮诀 | 灵感 | 被动 | 体修 / 土 | 受击时减伤8%，持续一回合，冷却3回合 | 每级减伤+0.5% |
| 焚血激 | 开辟 | 主动 | 体修 / 火 | 自身回复15%生命并获得10%反震伤害，持续2回合 | 每级回复+1%、反震+1% |
| 灵契术 | 灵感 | 主动 | 御兽 / 木 | 灵兽攻击力+15%，持续3回合 | 每级+1%，冷却4回合 |
| 兽魂鼓 | 开辟 | 被动 | 御兽 / 雷 | 灵兽释放技能后，主人回复5%真气 | 每级+0.3%，冷却2回合 |
| 定神符 | 灵感 | 主动 | 符箓 / 雷 | 眩晕单体1回合，命中率80% | 每级命中+2%，冷却5回合 |
| 蚀骨符 | 开辟 | 主动 | 符箓 / 毒 | 降低敌方10%防御，持续3回合，并附加每回合10%中毒 | 每级防御降低+0.5% |
| 虚神息 | 开辟 | 被动 | 符箓 / 水 | 自身真气上限+10%，回合结束回复1%真气 | 每级上限+1% |

### 6.2 高品质技能（通玄 / 悟道）
| 名称 | 品质 | 类型 | 流派 / 元素 | 核心效果 | 成长 & 备注 |
| --- | --- | --- | --- | --- | --- |
| 千刃星陨 | 通玄 | 主动 | 剑修 / 雷 | 消耗3层剑意，对单体连续斩击4次（每次70%攻击）；若目标被击败，刷新冷却 | 每级每段+3%，冷却4回合 |
| 戮仙剑域 | 悟道 | 主动 | 剑修 / 无 | 开启剑域3回合，普攻与技能额外触发剑气（50%攻击），暴击时生成剑意 | 每级剑气+2%，第二槽提供穿透 |
| 离火焚天 | 通玄 | 主动 | 法修 / 火 | 大范围火阵造成180%法攻并附3回合易伤（+15%所受伤害），灼烧每回合30%法攻 | 每级伤害+4%，易伤+1% |
| 万雷劫链 | 悟道 | 主动 | 法修 / 雷 | 对首目标造成220%法攻，连锁至最多5名敌人，每次命中附1回合眩晕（基础40%几率） | 每级伤害+5%，眩晕+3% |
| 金刚不灭 | 通玄 | 被动 | 体修 / 土 | 生命低于35%触发护体：减伤40%、每回合恢复10%生命，持续3回合，冷却6回合 | 每级减伤+2%，恢复+1% |
| 焚世熔炉 | 悟道 | 主动 | 体修 / 火 | 生成火焰护盾吸收等同40%生命的伤害并对近战者反射20%真实灼烧，护盾破裂时对周围造成250%火伤 | 每级护盾+3%、反射+1% |
| 玄兽同心 | 通玄 | 被动 | 御兽 / 木 | 灵兽攻击时给主人叠加“同心”层（攻速+5%、真气回复+5%），最高5层；灵兽倒地后保留1层 | 每级加成+0.5% |
| 帝御九霄 | 悟道 | 主动 | 御兽 / 雷 | 召唤灵兽连携：灵兽立即行动一次并获得狂暴（伤害+40%、技能冷却-1），主人下次主动技能造成额外100%伤害 | 每级狂暴+2%，额外伤害+5% |
| 镇魂神符 | 通玄 | 主动 | 符箓 / 水 | 对全体敌人施加沉默2回合并降低20%真气恢复，命中率70% | 每级命中+2%，减真气+2% |
| 太乙护界 | 悟道 | 主动 | 符箓 / 土 | 为全体队友施加护界（吸收30%生命护盾+20%全属性抗性），持续3回合；期间每当队友受控，自动解除并反射控制者 | 每级护盾+2%、抗性+1%，专属符印解锁群体复活 |

## 7. 数值与平衡流程
1. **技能原型制定** → 由策划根据流派模板填写属性数据表。
2. **内部模拟验证** → 使用战斗模拟器测试DPS、治疗、控制覆盖率，确保同品质技能在各流派之间的效率接近。
3. **印记与装备联动测试** → 检查技能与装备词缀、灵兽特性、符印的协同性，防止叠加过度。
4. **玩家体验测试** → 选取代表性关卡（单体BOSS、群怪副本、PVP）验证技能组合表现。
5. **数据迭代** → 根据测试反馈调整冷却、概率、叠层上限，保证技能有显著特色但不过度碾压。

## 8. 后续拓展建议
- **技能树系统**：依据流派设计分支节点（输出/控制/生存），让玩家在技能升级时选择分支强化，形成差异化 BD。
- **元素共鸣玩法**：为特定元素组合加入组合技或额外效果（如火+毒的炼狱爆裂）。
- **符印自定义**：高品质技能的印记槽可镶嵌“变体符印”，提供数值替换或效果扩展（如将雷系眩晕改为麻痹+减速）。
- **技能进化任务**：通过剧情或挑战任务解锁技能进化，提升技能品质或开启新机制，强化投入感。
- **战斗日志可视化**：新增技能触发、元素联动的战斗日志展示，帮助玩家理解技能价值与搭配策略。

## 9. 战斗流程与操作模式
- **15 回合限制**：战斗须在 15 回合内分出胜负，超时则比较双方剩余生命决定结果，低血方判负。设计技能时需考虑输出节奏，避免拖延型技能导致超时。
- **半自动操作**：默认支持全自动战斗（自动普攻、自动施放技能、自动更换装备），核心技能保留手动释放窗口。为此需在 UI 与逻辑上标注“自动/手动”权限，确保关键神通允许玩家手动择机释放。
- **灵兽行为规则**：灵兽技能采用固定回合间隔自动触发，玩家无法主动点按。应为每只灵兽配置基础间隔、星级缩减规则及被动触发条件（如被主角技能强制行动时的处理）。
- **控制影响**：硬控（眩晕、冰冻等）会跳过被控单位当回合行动，相当于间接打断技能。系统需在控制判定时清晰记录是否消耗回合、是否影响技能资源。

## 10. 技能发动机制细化
- **冷却 / 间隔定义**：
  - 主角神通遵循“资源即冷却”理念，只要满足条件即可即时施放，无额外秒数冷却。
  - 灵兽技能使用“回合间隔”字段配置（如 `interval = 2` 代表隔 1 回合释放一次）。当外部效果强制灵兽行动时，需刷新其间隔或标记下一次施放延后。
- **资源消耗体系**：
  - 妖气是真气类通用资源，默认每回合提供基础回复，受到普通攻击、灵兽行动、特定被动等影响。
  - 技能可定义`妖气消耗`与`妖气增益`参数，用于建模诸如“啸月”“万妖体”等回气技能，以及“蚀魂咒”类削减敌方妖气的控制。
- **状态依赖效果**：技能需支持根据目标状态调整效果（如目标处于眩晕时伤害增强、延长控制），在数据结构中预留`conditional_effects`字段描述状态条件与加成。
- **瞬发处理**：所有技能默认瞬时结算，无读条。若角色被控导致当回合无法行动，则保持其资源值不变，仅跳过施放记录。

## 11. 回合顺序判定机制
- **敏捷优先**：每回合开始根据实时敏捷值排序行动队列；敏捷相同时按战斗初始化顺序或随机打破。
- **动态调整**：敏捷增减 Buff 在下回合生效，重新计算队列。需在战斗引擎中实现“下一回合排序刷新”逻辑，保证加速/减速效果准确反馈。
- **控制剥夺行动**：被眩晕、冰冻等控制的单位直接从当轮队列移除，回合结束后若状态解除，则按更新后的敏捷参与下一轮排序。
- **先机类效果**：为“先机”等特殊词条预留额外伤害、暴击或资源加成字段，它们不改变行动顺序，但需在前两回合等限定窗口生效。

## 12. 妖气管理与施放策略指引
- **基础回气**：定义每回合基础妖气增长值，并允许通过技能、装备、印记进行百分比或定值加成。
- **节奏规划**：技能策划需给出推荐的施放节奏（如爆发流在第 3 回合前完成妖气蓄满，控制流在首回合施放削气技能）。文档中可提供示例连招以指导数据验证。
- **资源溢出**：当妖气达到上限后仍有额外收益（如转化为护盾或临时增益），避免玩家因等待最佳时机浪费资源。
- **灵兽协同**：御兽与驭兽技能需明确写出灵兽技能触发时对妖气的反馈，包括“额外回复”“缩短间隔”“立即行动”三类典型效果。

## 13. 技能获取与养成体系
- **抽取主线**：神通衍化作为核心获取方式，区分灵感→悟道四档掉率，并在系统表中配置累计抽取保底（如 720 次自选悟道）。重复技能转化为碎片，用于等级与突破。
- **活动与日常**：记录各类活动（神通灌顶、神通轮回）、日常任务、排行奖励提供的衍化符/技能碎片数量，为策划计算产出与消耗平衡提供依据。
- **商店兑换**：列出常驻商城、轮回殿等兑换渠道，说明价格、限购次数以及推荐优先级。需支持通过数据表直接调整上架物品。
- **成长节点**：技能升级至 25/50 级解锁印记槽位，突破所需的碎片与材料应与获取系统挂钩。建议在获取文档中同步记录技能升级成本，以便评估长期投入。
- **新手保障**：为初始阶段提供固定技能礼包或保底任务，确保玩家能体验完整的技能循环，再通过长期养成追求顶级悟道神通。

---

此重构方案旨在将技能系统打造成兼具深度与可拓展性的框架，为后续版本的技能新增、平衡调整和跨系统联动提供坚实基础。
