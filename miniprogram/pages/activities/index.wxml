<custom-nav title="精彩活动" theme="dark"></custom-nav>
<view class="container activity-page">
  <view wx:if="{{loading}}" class="card activity-state">
    <text class="activity-state__text">活动情报加载中...</text>
  </view>
  <view wx:elif="{{error}}" class="card activity-state activity-state--error">
    <text class="activity-state__text">{{error}}</text>
    <button class="activity-retry" size="mini" type="primary" bindtap="handleRetry">重新加载</button>
  </view>
  <block wx:elif="{{activities.length}}">
    <view wx:for="{{activities}}" wx:key="id" class="card activity-card">
      <view class="activity-card__header">
        <view
          class="activity-card__title-wrap"
          data-id="{{item.id}}"
          hover-class="activity-card__title-wrap--hover"
          bindtap="handleViewDetail"
        >
          <text class="activity-card__title">{{item.title}}</text>
          <view class="activity-card__indicator" aria-hidden="true">
            <text class="activity-card__indicator-icon">›</text>
          </view>
        </view>
        <view class="activity-card__status activity-card__status--{{item.statusType}}">{{item.statusLabel}}</view>
      </view>
      <view wx:if="{{item.timeRangeLabel}}" class="activity-card__meta">时间：{{item.timeRangeLabel}}</view>
      <view wx:if="{{item.tags.length}}" class="activity-card__tags">
        <view wx:for="{{item.tags}}" wx:key="tag" class="activity-card__tag">{{item}}</view>
      </view>
    </view>
  </block>
  <view wx:else class="card activity-state activity-state--empty">
    <text class="activity-state__text">暂无活动，敬请期待。</text>
  </view>
</view>
