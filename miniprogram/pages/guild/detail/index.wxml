<custom-nav title="å®—é—¨è¯¦æƒ…" theme="dark"></custom-nav>
<view class="guild-page guild-page--detail">
  <scroll-view scroll-y class="guild-scroll" enable-flex="true">
    <block wx:if="{{loading}}">
      <view class="state state--loading">åŠ è½½ä¸­...</view>
    </block>
    <block wx:elif="{{error}}">
      <view class="state state--error">{{error}}</view>
    </block>
    <view wx:else class="guild-content">
      <view class="guild-section detail-card">
        <view class="card-header">
          <view class="icon">
            <image wx:if="{{guild.icon}}" class="icon__image" src="{{guild.icon}}" mode="aspectFill" />
            <view wx:else class="icon__placeholder">ğŸ¯</view>
          </view>
          <view class="info">
            <text class="name">{{guild.name || 'æœªå‘½åå®—é—¨'}}</text>
            <text class="meta">æˆå‘˜ï¼š{{guild.memberCount || 0}} Â· æˆ˜åŠ›ï¼š{{formatNumber(guild.power || 0)}}</text>
          </view>
        </view>
        <view class="manifesto">{{guild.manifesto || 'è¿™ä½å®—ä¸»è¿˜æ²¡æœ‰ç•™ä¸‹å®£è¨€ã€‚'}}</view>
      </view>
      <button class="btn btn--primary" loading="{{joining}}" bindtap="handleJoin">åŠ å…¥å®—é—¨</button>
    </view>
  </scroll-view>
</view>
